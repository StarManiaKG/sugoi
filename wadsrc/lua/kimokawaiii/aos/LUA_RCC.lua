// --------------------------------------
// LUA_RCC
// Rainbow Colored Circle object
// --------------------------------------
local frames = {}
frames[0] = {}
frames[0].rotatenum = 24		// Frame rotation (based on the object's rotation). If this is 1, no rotation. 8 would be 8 way rotation (I.E. east, northeast, north, etc.)
frames[0].frames = {}
frames[0].frames[0] = "RCC1_A"
frames[0].frames[1] = "RCC1_B"
frames[0].frames[2] = "RCC1_C"
frames[0].frames[3] = "RCC1_D"
frames[0].frames[4] = "RCC1_E"
frames[0].frames[5] = "RCC1_F"
frames[0].frames[6] = "RCC1_G"
frames[0].frames[7] = "RCC1_G"
frames[0].frames[8] = "RCC1_G"
frames[0].frames[9] = "RCC1_G"
frames[0].frames[10] = "RCC1_G"
frames[0].frames[11] = "RCC1_G"
frames[0].frames[12] = "RCC1_G"
frames[0].frames[13] = "RCC1_S"
frames[0].frames[14] = "RCC1_S"
frames[0].frames[15] = "RCC1_S"
frames[0].frames[16] = "RCC1_S"
frames[0].frames[17] = "RCC1_S"
frames[0].frames[18] = "RCC1_S"
frames[0].frames[19] = "RCC1_T"
frames[0].frames[20] = "RCC1_U"
frames[0].frames[21] = "RCC1_V"
frames[0].frames[22] = "RCC1_W"
frames[0].frames[23] = "RCC1_X"
frames[1] = {}
frames[1].rotatenum = 24
frames[1].frames = {}
frames[1].frames[0] = "RCC2_A"
frames[1].frames[1] = "RCC2_B"
frames[1].frames[2] = "RCC2_C"
frames[1].frames[3] = "RCC2_D"
frames[1].frames[4] = "RCC2_E"
frames[1].frames[5] = "RCC2_F"
frames[1].frames[6] = "RCC2_G"
frames[1].frames[7] = "RCC2_G"
frames[1].frames[8] = "RCC2_G"
frames[1].frames[9] = "RCC2_G"
frames[1].frames[10] = "RCC2_G"
frames[1].frames[11] = "RCC2_G"
frames[1].frames[12] = "RCC2_G"
frames[1].frames[13] = "RCC2_S"
frames[1].frames[14] = "RCC2_S"
frames[1].frames[15] = "RCC2_S"
frames[1].frames[16] = "RCC2_S"
frames[1].frames[17] = "RCC2_S"
frames[1].frames[18] = "RCC2_S"
frames[1].frames[19] = "RCC2_T"
frames[1].frames[20] = "RCC2_U"
frames[1].frames[21] = "RCC2_V"
frames[1].frames[22] = "RCC2_W"
frames[1].frames[23] = "RCC2_X"
frames[2] = {}
frames[2].rotatenum = 24
frames[2].frames = {}
frames[2].frames[0] = "RCC3_A"
frames[2].frames[1] = "RCC3_B"
frames[2].frames[2] = "RCC3_C"
frames[2].frames[3] = "RCC3_D"
frames[2].frames[4] = "RCC3_E"
frames[2].frames[5] = "RCC3_F"
frames[2].frames[6] = "RCC3_G"
frames[2].frames[7] = "RCC3_G"
frames[2].frames[8] = "RCC3_G"
frames[2].frames[9] = "RCC3_G"
frames[2].frames[10] = "RCC3_G"
frames[2].frames[11] = "RCC3_G"
frames[2].frames[12] = "RCC3_G"
frames[2].frames[13] = "RCC3_S"
frames[2].frames[14] = "RCC3_S"
frames[2].frames[15] = "RCC3_S"
frames[2].frames[16] = "RCC3_S"
frames[2].frames[17] = "RCC3_S"
frames[2].frames[18] = "RCC3_S"
frames[2].frames[19] = "RCC3_T"
frames[2].frames[20] = "RCC3_U"
frames[2].frames[21] = "RCC3_V"
frames[2].frames[22] = "RCC3_W"
frames[2].frames[23] = "RCC3_X"
frames[3] = {}
frames[3].rotatenum = 24
frames[3].frames = {}
frames[3].frames[0] = "RCC4_A"
frames[3].frames[1] = "RCC4_B"
frames[3].frames[2] = "RCC4_C"
frames[3].frames[3] = "RCC4_D"
frames[3].frames[4] = "RCC4_E"
frames[3].frames[5] = "RCC4_F"
frames[3].frames[6] = "RCC4_G"
frames[3].frames[7] = "RCC4_G"
frames[3].frames[8] = "RCC4_G"
frames[3].frames[9] = "RCC4_G"
frames[3].frames[10] = "RCC4_G"
frames[3].frames[11] = "RCC4_G"
frames[3].frames[12] = "RCC4_G"
frames[3].frames[13] = "RCC4_S"
frames[3].frames[14] = "RCC4_S"
frames[3].frames[15] = "RCC4_S"
frames[3].frames[16] = "RCC4_S"
frames[3].frames[17] = "RCC4_S"
frames[3].frames[18] = "RCC4_S"
frames[3].frames[19] = "RCC4_T"
frames[3].frames[20] = "RCC4_U"
frames[3].frames[21] = "RCC4_V"
frames[3].frames[22] = "RCC4_W"
frames[3].frames[23] = "RCC4_X"
frames[4] = {}
frames[4].rotatenum = 24
frames[4].frames = {}
frames[4].frames[0] = "RCC5_A"
frames[4].frames[1] = "RCC5_B"
frames[4].frames[2] = "RCC5_C"
frames[4].frames[3] = "RCC5_D"
frames[4].frames[4] = "RCC5_E"
frames[4].frames[5] = "RCC5_F"
frames[4].frames[6] = "RCC5_G"
frames[4].frames[7] = "RCC5_G"
frames[4].frames[8] = "RCC5_G"
frames[4].frames[9] = "RCC5_G"
frames[4].frames[10] = "RCC5_G"
frames[4].frames[11] = "RCC5_G"
frames[4].frames[12] = "RCC5_G"
frames[4].frames[13] = "RCC5_S"
frames[4].frames[14] = "RCC5_S"
frames[4].frames[15] = "RCC5_S"
frames[4].frames[16] = "RCC5_S"
frames[4].frames[17] = "RCC5_S"
frames[4].frames[18] = "RCC5_S"
frames[4].frames[19] = "RCC5_T"
frames[4].frames[20] = "RCC5_U"
frames[4].frames[21] = "RCC5_V"
frames[4].frames[22] = "RCC5_W"
frames[4].frames[23] = "RCC5_X"
frames[5] = {}
frames[5].rotatenum = 24
frames[5].frames = {}
frames[5].frames[0] = "RCC6_A"
frames[5].frames[1] = "RCC6_B"
frames[5].frames[2] = "RCC6_C"
frames[5].frames[3] = "RCC6_D"
frames[5].frames[4] = "RCC6_E"
frames[5].frames[5] = "RCC6_F"
frames[5].frames[6] = "RCC6_G"
frames[5].frames[7] = "RCC6_G"
frames[5].frames[8] = "RCC6_G"
frames[5].frames[9] = "RCC6_G"
frames[5].frames[10] = "RCC6_G"
frames[5].frames[11] = "RCC6_G"
frames[5].frames[12] = "RCC6_G"
frames[5].frames[13] = "RCC6_S"
frames[5].frames[14] = "RCC6_S"
frames[5].frames[15] = "RCC6_S"
frames[5].frames[16] = "RCC6_S"
frames[5].frames[17] = "RCC6_S"
frames[5].frames[18] = "RCC6_S"
frames[5].frames[19] = "RCC6_T"
frames[5].frames[20] = "RCC6_U"
frames[5].frames[21] = "RCC6_V"
frames[5].frames[22] = "RCC6_W"
frames[5].frames[23] = "RCC6_X"
frames[6] = {}
frames[6].rotatenum = 24
frames[6].frames = {}
frames[6].frames[0] = "RCC7_A"
frames[6].frames[1] = "RCC7_B"
frames[6].frames[2] = "RCC7_C"
frames[6].frames[3] = "RCC7_D"
frames[6].frames[4] = "RCC7_E"
frames[6].frames[5] = "RCC7_F"
frames[6].frames[6] = "RCC7_G"
frames[6].frames[7] = "RCC7_G"
frames[6].frames[8] = "RCC7_G"
frames[6].frames[9] = "RCC7_G"
frames[6].frames[10] = "RCC7_G"
frames[6].frames[11] = "RCC7_G"
frames[6].frames[12] = "RCC7_G"
frames[6].frames[13] = "RCC7_S"
frames[6].frames[14] = "RCC7_S"
frames[6].frames[15] = "RCC7_S"
frames[6].frames[16] = "RCC7_S"
frames[6].frames[17] = "RCC7_S"
frames[6].frames[18] = "RCC7_S"
frames[6].frames[19] = "RCC7_T"
frames[6].frames[20] = "RCC7_U"
frames[6].frames[21] = "RCC7_V"
frames[6].frames[22] = "RCC7_W"
frames[6].frames[23] = "RCC7_X"
frames[7] = {}
frames[7].rotatenum = 24
frames[7].frames = {}
frames[7].frames[0] = "RCC8_A"
frames[7].frames[1] = "RCC8_B"
frames[7].frames[2] = "RCC8_C"
frames[7].frames[3] = "RCC8_D"
frames[7].frames[4] = "RCC8_E"
frames[7].frames[5] = "RCC8_F"
frames[7].frames[6] = "RCC8_G"
frames[7].frames[7] = "RCC8_G"
frames[7].frames[8] = "RCC8_G"
frames[7].frames[9] = "RCC8_G"
frames[7].frames[10] = "RCC8_G"
frames[7].frames[11] = "RCC8_G"
frames[7].frames[12] = "RCC8_G"
frames[7].frames[13] = "RCC8_S"
frames[7].frames[14] = "RCC8_S"
frames[7].frames[15] = "RCC8_S"
frames[7].frames[16] = "RCC8_S"
frames[7].frames[17] = "RCC8_S"
frames[7].frames[18] = "RCC8_S"
frames[7].frames[19] = "RCC8_T"
frames[7].frames[20] = "RCC8_U"
frames[7].frames[21] = "RCC8_V"
frames[7].frames[22] = "RCC8_W"
frames[7].frames[23] = "RCC8_X"
frames[8] = {}
frames[8].rotatenum = 24
frames[8].frames = {}
frames[8].frames[0] = "RCC9_A"
frames[8].frames[1] = "RCC9_B"
frames[8].frames[2] = "RCC9_C"
frames[8].frames[3] = "RCC9_D"
frames[8].frames[4] = "RCC9_E"
frames[8].frames[5] = "RCC9_F"
frames[8].frames[6] = "RCC9_G"
frames[8].frames[7] = "RCC9_G"
frames[8].frames[8] = "RCC9_G"
frames[8].frames[9] = "RCC9_G"
frames[8].frames[10] = "RCC9_G"
frames[8].frames[11] = "RCC9_G"
frames[8].frames[12] = "RCC9_G"
frames[8].frames[13] = "RCC9_S"
frames[8].frames[14] = "RCC9_S"
frames[8].frames[15] = "RCC9_S"
frames[8].frames[16] = "RCC9_S"
frames[8].frames[17] = "RCC9_S"
frames[8].frames[18] = "RCC9_S"
frames[8].frames[19] = "RCC9_T"
frames[8].frames[20] = "RCC9_U"
frames[8].frames[21] = "RCC9_V"
frames[8].frames[22] = "RCC9_W"
frames[8].frames[23] = "RCC9_X"
frames[9] = {}
frames[9].rotatenum = 24
frames[9].frames = {}
frames[9].frames[0] = "RCCA_A"
frames[9].frames[1] = "RCCA_B"
frames[9].frames[2] = "RCCA_C"
frames[9].frames[3] = "RCCA_D"
frames[9].frames[4] = "RCCA_E"
frames[9].frames[5] = "RCCA_F"
frames[9].frames[6] = "RCCA_G"
frames[9].frames[7] = "RCCA_G"
frames[9].frames[8] = "RCCA_G"
frames[9].frames[9] = "RCCA_G"
frames[9].frames[10] = "RCCA_G"
frames[9].frames[11] = "RCCA_G"
frames[9].frames[12] = "RCCA_G"
frames[9].frames[13] = "RCCA_S"
frames[9].frames[14] = "RCCA_S"
frames[9].frames[15] = "RCCA_S"
frames[9].frames[16] = "RCCA_S"
frames[9].frames[17] = "RCCA_S"
frames[9].frames[18] = "RCCA_S"
frames[9].frames[19] = "RCCA_T"
frames[9].frames[20] = "RCCA_U"
frames[9].frames[21] = "RCCA_V"
frames[9].frames[22] = "RCCA_W"
frames[9].frames[23] = "RCCA_X"
frames[10] = {}
frames[10].rotatenum = 24
frames[10].frames = {}
frames[10].frames[0] = "RCCB_A"
frames[10].frames[1] = "RCCB_B"
frames[10].frames[2] = "RCCB_C"
frames[10].frames[3] = "RCCB_D"
frames[10].frames[4] = "RCCB_E"
frames[10].frames[5] = "RCCB_F"
frames[10].frames[6] = "RCCB_G"
frames[10].frames[7] = "RCCB_G"
frames[10].frames[8] = "RCCB_G"
frames[10].frames[9] = "RCCB_G"
frames[10].frames[10] = "RCCB_G"
frames[10].frames[11] = "RCCB_G"
frames[10].frames[12] = "RCCB_G"
frames[10].frames[13] = "RCCB_S"
frames[10].frames[14] = "RCCB_S"
frames[10].frames[15] = "RCCB_S"
frames[10].frames[16] = "RCCB_S"
frames[10].frames[17] = "RCCB_S"
frames[10].frames[18] = "RCCB_S"
frames[10].frames[19] = "RCCB_T"
frames[10].frames[20] = "RCCB_U"
frames[10].frames[21] = "RCCB_V"
frames[10].frames[22] = "RCCB_W"
frames[10].frames[23] = "RCCB_X"
frames[11] = {}
frames[11].rotatenum = 24
frames[11].frames = {}
frames[11].frames[0] = "RCCC_A"
frames[11].frames[1] = "RCCC_B"
frames[11].frames[2] = "RCCC_C"
frames[11].frames[3] = "RCCC_D"
frames[11].frames[4] = "RCCC_E"
frames[11].frames[5] = "RCCC_F"
frames[11].frames[6] = "RCCC_G"
frames[11].frames[7] = "RCCC_G"
frames[11].frames[8] = "RCCC_G"
frames[11].frames[9] = "RCCC_G"
frames[11].frames[10] = "RCCC_G"
frames[11].frames[11] = "RCCC_G"
frames[11].frames[12] = "RCCC_G"
frames[11].frames[13] = "RCCC_S"
frames[11].frames[14] = "RCCC_S"
frames[11].frames[15] = "RCCC_S"
frames[11].frames[16] = "RCCC_S"
frames[11].frames[17] = "RCCC_S"
frames[11].frames[18] = "RCCC_S"
frames[11].frames[19] = "RCCC_T"
frames[11].frames[20] = "RCCC_U"
frames[11].frames[21] = "RCCC_V"
frames[11].frames[22] = "RCCC_W"
frames[11].frames[23] = "RCCC_X"
frames[12] = {}
frames[12].rotatenum = 24
frames[12].frames = {}
frames[12].frames[0] = "RCCD_A"
frames[12].frames[1] = "RCCD_B"
frames[12].frames[2] = "RCCD_C"
frames[12].frames[3] = "RCCD_D"
frames[12].frames[4] = "RCCD_E"
frames[12].frames[5] = "RCCD_F"
frames[12].frames[6] = "RCCD_G"
frames[12].frames[7] = "RCCD_G"
frames[12].frames[8] = "RCCD_G"
frames[12].frames[9] = "RCCD_G"
frames[12].frames[10] = "RCCD_G"
frames[12].frames[11] = "RCCD_G"
frames[12].frames[12] = "RCCD_G"
frames[12].frames[13] = "RCCD_S"
frames[12].frames[14] = "RCCD_S"
frames[12].frames[15] = "RCCD_S"
frames[12].frames[16] = "RCCD_S"
frames[12].frames[17] = "RCCD_S"
frames[12].frames[18] = "RCCD_S"
frames[12].frames[19] = "RCCD_T"
frames[12].frames[20] = "RCCD_U"
frames[12].frames[21] = "RCCD_V"
frames[12].frames[22] = "RCCD_W"
frames[12].frames[23] = "RCCD_X"
frames[13] = {}
frames[13].rotatenum = 24
frames[13].frames = {}
frames[13].frames[0] = "RCCE_A"
frames[13].frames[1] = "RCCE_B"
frames[13].frames[2] = "RCCE_C"
frames[13].frames[3] = "RCCE_D"
frames[13].frames[4] = "RCCE_E"
frames[13].frames[5] = "RCCE_F"
frames[13].frames[6] = "RCCE_G"
frames[13].frames[7] = "RCCE_G"
frames[13].frames[8] = "RCCE_G"
frames[13].frames[9] = "RCCE_G"
frames[13].frames[10] = "RCCE_G"
frames[13].frames[11] = "RCCE_G"
frames[13].frames[12] = "RCCE_G"
frames[13].frames[13] = "RCCE_S"
frames[13].frames[14] = "RCCE_S"
frames[13].frames[15] = "RCCE_S"
frames[13].frames[16] = "RCCE_S"
frames[13].frames[17] = "RCCE_S"
frames[13].frames[18] = "RCCE_S"
frames[13].frames[19] = "RCCE_T"
frames[13].frames[20] = "RCCE_U"
frames[13].frames[21] = "RCCE_V"
frames[13].frames[22] = "RCCE_W"
frames[13].frames[23] = "RCCE_X"
frames[14] = {}
frames[14].rotatenum = 24
frames[14].frames = {}
frames[14].frames[0] = "RCCF_A"
frames[14].frames[1] = "RCCF_B"
frames[14].frames[2] = "RCCF_C"
frames[14].frames[3] = "RCCF_D"
frames[14].frames[4] = "RCCF_E"
frames[14].frames[5] = "RCCF_F"
frames[14].frames[6] = "RCCF_G"
frames[14].frames[7] = "RCCF_G"
frames[14].frames[8] = "RCCF_G"
frames[14].frames[9] = "RCCF_G"
frames[14].frames[10] = "RCCF_G"
frames[14].frames[11] = "RCCF_G"
frames[14].frames[12] = "RCCF_G"
frames[14].frames[13] = "RCCF_S"
frames[14].frames[14] = "RCCF_S"
frames[14].frames[15] = "RCCF_S"
frames[14].frames[16] = "RCCF_S"
frames[14].frames[17] = "RCCF_S"
frames[14].frames[18] = "RCCF_S"
frames[14].frames[19] = "RCCF_T"
frames[14].frames[20] = "RCCF_U"
frames[14].frames[21] = "RCCF_V"
frames[14].frames[22] = "RCCF_W"
frames[14].frames[23] = "RCCF_X"
frames[15] = {}
frames[15].rotatenum = 24
frames[15].frames = {}
frames[15].frames[0] = "RCCG_A"
frames[15].frames[1] = "RCCG_B"
frames[15].frames[2] = "RCCG_C"
frames[15].frames[3] = "RCCG_D"
frames[15].frames[4] = "RCCG_E"
frames[15].frames[5] = "RCCG_F"
frames[15].frames[6] = "RCCG_G"
frames[15].frames[7] = "RCCG_G"
frames[15].frames[8] = "RCCG_G"
frames[15].frames[9] = "RCCG_G"
frames[15].frames[10] = "RCCG_G"
frames[15].frames[11] = "RCCG_G"
frames[15].frames[12] = "RCCG_G"
frames[15].frames[13] = "RCCG_S"
frames[15].frames[14] = "RCCG_S"
frames[15].frames[15] = "RCCG_S"
frames[15].frames[16] = "RCCG_S"
frames[15].frames[17] = "RCCG_S"
frames[15].frames[18] = "RCCG_S"
frames[15].frames[19] = "RCCG_T"
frames[15].frames[20] = "RCCG_U"
frames[15].frames[21] = "RCCG_V"
frames[15].frames[22] = "RCCG_W"
frames[15].frames[23] = "RCCG_X"

local animation = {}
animation.speed = 1	// Time between frames
animation.numframes = 16
animation.nextanim = 0	// Animation to play when this animation ends. Same animation = loop.
animation.frames = {}
animation.frames[0] = AOS_AddFrame(frames[0])
animation.frames[1] = AOS_AddFrame(frames[1])
animation.frames[2] = AOS_AddFrame(frames[2])
animation.frames[3] = AOS_AddFrame(frames[3])
animation.frames[4] = AOS_AddFrame(frames[4])
animation.frames[5] = AOS_AddFrame(frames[5])
animation.frames[6] = AOS_AddFrame(frames[6])
animation.frames[7] = AOS_AddFrame(frames[7])
animation.frames[8] = AOS_AddFrame(frames[8])
animation.frames[9] = AOS_AddFrame(frames[9])
animation.frames[10] = AOS_AddFrame(frames[10])
animation.frames[11] = AOS_AddFrame(frames[11])
animation.frames[12] = AOS_AddFrame(frames[12])
animation.frames[13] = AOS_AddFrame(frames[13])
animation.frames[14] = AOS_AddFrame(frames[14])
animation.frames[15] = AOS_AddFrame(frames[15])

AOS_AddAnim(animation)

local maxobjects = 640

local object = {}
object.thinker = function(player, objectnum)
	local object = player.aosobjects[objectnum]
	object.scale = $1 + (FRACUNIT/TICRATE)*5
	object.width = 5*object.scale
	object.height = 15*object.scale
	
	if(AngleFixed(object.angle) > 90*FRACUNIT and AngleFixed(object.angle) < 270*FRACUNIT)
		local cosAngle = -cos(object.angle)
		local sinAngle = -sin(object.angle)
		object.angle = R_PointToAngle2(0, 0, cosAngle, sinAngle)
	end
	
	// Transparancy
	object.drawflags = object.timer*10/(TICRATE*7/12)
	if(object.drawflags > 9)
		object.drawflags = 0
	end
	object.drawflags = $1 * V_10TRANS
	
	object.timer = $1 + 1
//	if(object.timer == 10)
//		object.scale = $1 * 159/244
//	end
	
	if(object.timer > TICRATE*7/12)
		removeAOSObject(player, objectnum)
		return
	end
end

AOS_AddObject(object)
